(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,a){e.exports=a(88)},48:function(e,t,a){},49:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},76:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(16),l=a.n(i),c=(a(48),a(8)),o=a(9),s=a(12),u=a(10),p=a(13),d=(a(49),a(11)),h=a(19),m=a(14),b=a(3),f=a(97),O=a(98),g=a(99),E=a(100),j=(a(54),a(55),a(56),a(17)),v=a.n(j),y=(a(76),a(41)),k=a(89),S=a(90),C=a(91),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(b.a)(Object(b.a)(a))),a.state={collapse:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{collapse:!e.collapse}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{color:"primary",onClick:this.toggle,style:{marginBottom:"1rem"}},this.props.alertHeader),r.a.createElement(k.a,{isOpen:this.state.collapse},r.a.createElement(S.a,null,r.a.createElement(C.a,{id:"alert-collapse-body"},this.props.alertDetails,this.props.alertId))))}}]),t}(n.Component),D=Object(d.b)(function(e){return e})(_),T=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).mapAlerts=e.mapAlerts.bind(Object(b.a)(Object(b.a)(e))),e.state={alerts:"",alertsTitle:null},e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.post("/access-api",{url:"alerts"}).then(function(t){e.mapAlerts(t.data)})}},{key:"mapAlerts",value:function(e){var t=this,a=[];e.body.map(function(e){return e.alert.informed_entity.map(function(n){if(n.route_id){if(n.route_id===t.props.line)return a.push({alertHeader:e.alert.header_text.translation[0].text,alertDetails:e.alert.description_text.translation[0].text,alertId:e.id})}else if(n.trip&&n.trip.route_id===t.props.line)return a.push({alertHeader:e.alert.header_text.translation[0].text,alertDetails:e.alert.description_text.translation[0].text,alertId:e.id});return null})}),this.setState({alertsTitle:"Alerts: ".concat(a.length),alerts:a.map(function(e){return r.a.createElement(D,{key:e.alertId,alertHeader:e.alertHeader,alertDetails:e.alertDetails})})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"alerts-container"},r.a.createElement("p",null,this.state.alertsTitle,r.a.createElement("br",null),"Click Alert To View More Details"),this.state.alerts))}}]),t}(n.Component),L=Object(d.b)(function(e){return e})(T),w=(a(84),a(95)),I=a(96),P=(a(85),a(106)),B=a(92),x=a(93),M=a(94),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(b.a)(Object(b.a)(a))),a.loadTrainData=a.loadTrainData.bind(Object(b.a)(Object(b.a)(a))),a.state={modal:!1,tripStops:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{modal:!e.modal}})}},{key:"componentDidMount",value:function(){this.loadTrainData()}},{key:"loadTrainData",value:function(){this.setState({tripStops:this.props.data.map(function(e){return r.a.createElement("li",null,e.stop_id," - ",e.arrival_time.slice(0,5))})})}},{key:"render",value:function(){return console.log(this.props.data),r.a.createElement("div",null,r.a.createElement(y.a,{color:"danger",onClick:this.toggle},this.props.tripId),r.a.createElement(P.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},r.a.createElement(B.a,{toggle:this.toggle},"Modal title"),r.a.createElement(x.a,null,r.a.createElement("ol",null,this.state.tripStops)),r.a.createElement(M.a,null,r.a.createElement(y.a,{color:"primary",onClick:this.toggle},"Do Something")," ",r.a.createElement(y.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),t}(r.a.Component),A=Object(d.b)(function(e){return e})(N),R=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).filterTripsByCalendar=e.filterTripsByCalendar.bind(Object(b.a)(Object(b.a)(e))),e.filterStopsByLine=e.filterStopsByLine.bind(Object(b.a)(Object(b.a)(e))),e.changeStartStop=e.changeStartStop.bind(Object(b.a)(Object(b.a)(e))),e.changeEndStop=e.changeEndStop.bind(Object(b.a)(Object(b.a)(e))),e.searchForTrains=e.searchForTrains.bind(Object(b.a)(Object(b.a)(e))),e.updateTable=e.updateTable.bind(Object(b.a)(Object(b.a)(e))),e.state={stopStartOptions:[],stopEndOptions:[],todaysTrains:[],startStop:"",endStop:"",trainList:"",searchResults:[],showSearchResults:"",tableData:null},e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.startStop||(v.a.post("/access-api",{url:"schedule/trips"}).then(function(t){e.filterTripsByCalendar(t)}),v.a.post("access-api",{url:"schedule/stops"}).then(function(t){e.filterStopsByLine(t)}))}},{key:"filterStopsByLine",value:function(e){var t=this,a=[],n=[];e.data.body.map(function(e){return-1!==e.stop_url.search(t.props.line)&&(a.push(e),n.unshift(e)),null}),a.push({stop_id:"CUS",stop_name:"Chicago Union Station"}),n.unshift({stop_id:"CUS",stop_name:"Chicago Union Station"}),this.setState({stopStartOptions:a.map(function(e,t){return r.a.createElement("option",{key:t,value:e.stop_id},e.stop_name)}),stopEndOptions:n.map(function(e,t){return r.a.createElement("option",{key:t,value:e.stop_id},e.stop_name)}),startStop:a[0].stop_id,endStop:n[0].stop_id})}},{key:"filterTripsByCalendar",value:function(e){var t=this,a=this.props.currentPageReducer.calendarDates,n=e.data.body.filter(function(e){return e.route_id===t.props.line}),r=[];n.map(function(e){for(var t=0;t<a.length;t++)e.service_id===a[t]&&r.push(e);return null}),this.setState({todaysTrains:r})}},{key:"searchForTrains",value:function(){for(var e=this,t=[],a=0;a<this.state.todaysTrains.length;a++)v.a.post("/access-api",{url:"schedule/stop_times/".concat(this.state.todaysTrains[a].trip_id)}).then(function(a){for(var n=0;n<a.data.body.length;n++)if(a.data.body[n].stop_id===e.state.startStop)for(var r=n;r<a.data.body.length;r++)a.data.body[r].stop_id===e.state.endStop&&(t.push(a.data.body),e.setState({searchResults:t}),e.updateTable(t))})}},{key:"updateTable",value:function(e){e.sort(function(e,t){return e=e[0].departure_time.replace(":",""),t=t[0].departure_time.replace(":",""),parseInt(e)<parseInt(t)?-1:parseInt(e)>parseInt(t)?1:0}),this.setState({tableData:e.map(function(e,t,a){return r.a.createElement("tr",{key:t},r.a.createElement(A,{tripId:e[0].trip_id,data:e}),r.a.createElement("td",null,e[0].departure_time),r.a.createElement("td",null,e[e.length-1].arrival_time))})})}},{key:"changeStartStop",value:function(e){this.setState({startStop:e.target.value})}},{key:"changeEndStop",value:function(e){this.setState({endStop:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{id:"line-trains-container"},"From:",r.a.createElement(w.a,{type:"select",placeholder:"test",onChange:this.changeStartStop},this.state.stopStartOptions),r.a.createElement("br",null),"To:",r.a.createElement(w.a,{type:"select",onChange:this.changeEndStop},this.state.stopEndOptions),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.searchForTrains},"Search"),r.a.createElement("button",{onClick:function(){return console.log(e.state.searchResults)}},"Test"),r.a.createElement("div",{id:"search-results-table-container"},r.a.createElement(I.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,this.state.startStop),r.a.createElement("th",null,this.state.endStop))),r.a.createElement("tbody",null,this.state.tableData)))))}}]),t}(n.Component),H=Object(d.b)(function(e){return e})(R),U=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,this.props.line),r.a.createElement(H,{line:this.props.line}),r.a.createElement(L,{line:this.props.line}))}}]),t}(n.Component),F=Object(d.b)(function(e){return e})(U),W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(b.a)(Object(b.a)(a))),a.selectLine=a.selectLine.bind(Object(b.a)(Object(b.a)(a))),a.state={dropdownOpen:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"selectLine",value:function(e){this.props.dispatch({type:"changeCurrentPage",currentPage:r.a.createElement(F,{line:e.target.innerHTML})})}},{key:"render",value:function(){return r.a.createElement(f.a,{isOpen:this.state.dropdownOpen,toggle:this.toggle},r.a.createElement(O.a,{caret:!0},"Choose Your Line"),r.a.createElement(g.a,null,r.a.createElement(E.a,{onClick:this.selectLine},"MD-N"),r.a.createElement(E.a,{divider:!0}),r.a.createElement(E.a,{onClick:this.selectLine},"NCS"),r.a.createElement(E.a,{divider:!0}),r.a.createElement(E.a,{onClick:this.selectLine},"UP-N"),r.a.createElement(E.a,{divider:!0}),r.a.createElement(E.a,{onClick:this.selectLine},"UP-NW"),r.a.createElement(E.a,{divider:!0}),r.a.createElement(E.a,{onClick:this.selectLine},"HC"),r.a.createElement(E.a,{divider:!0}),r.a.createElement(E.a,{onClick:this.selectLine},"ME"),r.a.createElement(E.a,{divider:!0}),r.a.createElement(E.a,{onClick:this.selectLine},"RI"),r.a.createElement(E.a,{divider:!0}),r.a.createElement(E.a,{onClick:this.selectLine},"SWS"),r.a.createElement(E.a,{divider:!0}),r.a.createElement(E.a,{onClick:this.selectLine},"BNSF"),r.a.createElement(E.a,{divider:!0}),r.a.createElement(E.a,{onClick:this.selectLine},"MD-W"),r.a.createElement(E.a,{divider:!0}),r.a.createElement(E.a,{onClick:this.selectLine},"UP-W")))}}]),t}(r.a.Component),J=Object(d.b)(function(e){return e})(W),V=Object(h.b)({currentPageReducer:function(e,t){switch(e||(e={currentPage:r.a.createElement(J,null),calendarDates:[]}),t.type){case"changeCurrentPage":return Object(m.a)({},e,{currentPage:t.currentPage});case"changeCalendarDates":return Object(m.a)({},e,{calendarDates:t.calendarDates});default:return Object(m.a)({},e)}}}),Y=(a(86),a(101)),$=a(102),q=a(103),z=a(104),G=a(105),K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(b.a)(Object(b.a)(a))),a.state={isOpen:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y.a,{color:"dark",dark:!0,expand:"md"},r.a.createElement($.a,{href:"/"},"Home"),r.a.createElement(q.a,{onClick:this.toggle}),r.a.createElement(k.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(z.a,{className:"ml-auto",navbar:!0},r.a.createElement(G.a,{nav:!0,inNavbar:!0},r.a.createElement(O.a,{nav:!0,caret:!0},"Log In/Create Account"),r.a.createElement(g.a,{right:!0},r.a.createElement(E.a,null,"Log In"),r.a.createElement(E.a,{divider:!0}),r.a.createElement(E.a,null,"Create Account")))))))}}]),t}(r.a.Component),Q=Object(d.b)(function(e){return e})(K),X=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).getCalendarDates=e.getCalendarDates.bind(Object(b.a)(Object(b.a)(e))),e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"getCalendarDates",value:function(){var e=this;this.props.currentPageReducer.calendarDates.length||v.a.post("/access-api",{url:"schedule/calendar_dates"}).then(function(t){e.props.dispatch({type:"changeCalendarDates",calendarDates:t.data.body.map(function(e){return e.service_id})})})}},{key:"componentDidMount",value:function(){this.getCalendarDates()}},{key:"render",value:function(){return r.a.createElement("div",{id:"homepage-container"},r.a.createElement(Q,null),this.props.currentPageReducer.currentPage)}}]),t}(n.Component),Z=Object(d.b)(function(e){return e})(X),ee=Object(h.c)(V),te=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:ee},r.a.createElement("div",{className:"App"},r.a.createElement(Z,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(87);l.a.render(r.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.8fa28bdc.chunk.js.map